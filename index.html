<!DOCTYPE html>
<html>
<head>
    <title>Pong Game</title>
    <style>
        * { padding: 0; margin: 0; }
        canvas { background: #000; display: block; margin: 20px auto; }
    </style>
</head>
<body>
    <canvas id="pong" width="800" height="400"></canvas>
    <script>
        const canvas = document.getElementById("pong");
        const context = canvas.getContext("2d");

        const ball = new Image();
        ball.src = "pelota.png";

        const player1 = new Image();
        player1.src = "jugador1.png";

        const player2 = new Image();
        player2.src = "jugador2.png";

        const ballObj = { x: canvas.width / 2, y: canvas.height / 2, dx: 2, dy: 2, radius: 10, speed: 2 };
        const playerWidth = 100, playerHeight = 20, playerSpeed = 2;
        let leftPlayerY = canvas.height / 2, rightPlayerY = canvas.height / 2;
        let upArrow = false, downArrow = false, wKey = false, sKey = false;
        let score1 = 0, score2 = 0;

        function animate() {
            context.clearRect(0, 0, canvas.width, canvas.height);
            context.drawImage(ball, ballObj.x, ballObj.y, ballObj.radius, ballObj.radius);
            context.drawImage(player1, 0, leftPlayerY, playerWidth, playerHeight);
            context.drawImage(player2, canvas.width - playerWidth, rightPlayerY, playerWidth, playerHeight);
            ballObj.x += ballObj.dx;
            ballObj.y += ballObj.dy;

            if(wKey && leftPlayerY > 0) leftPlayerY -= playerSpeed;
            else if(sKey && (leftPlayerY < canvas.height - playerHeight)) leftPlayerY += playerSpeed;

            if(upArrow && rightPlayerY > 0) rightPlayerY -= playerSpeed;
            else if(downArrow && (rightPlayerY < canvas.height - playerHeight)) rightPlayerY += playerSpeed;

            if(ballObj.y + ballObj.radius > canvas.height || ballObj.y - ballObj.radius < 0) ballObj.dy *= -1;
            if(ballObj.y + ballObj.radius > leftPlayerY && ballObj.y - ballObj.radius < leftPlayerY + playerHeight && ballObj.dx < 0) ballObj.dx *= -1;
            else if(ballObj.y + ballObj.radius > rightPlayerY && ballObj.y - ballObj.radius < rightPlayerY + playerHeight && ballObj.dx > 0) ballObj.dx *= -1;
            else if(ballObj.x + ballObj.radius > canvas.width) { ballObj.x = canvas.width / 2; score1++; }
            else if(ballObj.x - ballObj.radius < 0) { ballObj.x = canvas.width / 2; score2++; }

            requestAnimationFrame(animate);
        }

        window.addEventListener("keydown", function(event) {
            switch(event.keyCode) {
                case 38: upArrow = true; break;
                case 40: downArrow = true; break;
                case 87: wKey = true; break;
                case 83: sKey = true; break;
            }
        });

        window.addEventListener("keyup", function(event) {
            switch(event.keyCode) {
                case 38: upArrow = false; break;
                case 40: downArrow = false; break;
                case 87: wKey = false; break;
                case 83: sKey = false; break;
            }
        });

        animate();
    </script>
</body>
</html>
